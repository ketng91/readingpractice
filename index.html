<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reading Practice</title>

<style>

#homeBtn {
  font-size: 26px;
  text-decoration: none;
  margin-right: 10px;
  color: #fff;
  position: absolute;
  left: 10px;
  top: 8px;
  transition: 0.25s;
}

#homeBtn:hover {
  color: #ffd700;
  cursor: pointer;
}



body {font-family: Arial, sans-serif;margin:0;background:#f5f5f5;}
header {background:#213C51;color:#fff;padding:10px;text-align:center;}
#timer {font-size:20px;margin-top:5px;}

.container {width:90%;max-width:900px;margin:20px auto;background:#fff;
  padding:20px;border-radius:8px;box-shadow:0 0 8px rgba(0,0,0,0.1);}

.exercise-title {font-size:22px;margin-bottom:15px;font-weight:bold;color:#333;}

.reading-box{
  border:1px solid #ccc;
  padding:10px;
  height:300px;
  overflow-y:auto;
  border-radius:6px;
  background:#fafafa;
  margin-bottom:10px;
  font-size:20px;
}
.questions-box{
border:1px solid #ccc;padding:10px;height:180px;overflow-y:auto;
  border-radius:6px;background:#ECF4E8;margin-bottom:10px;  font-size:20px;
}

.question{margin-bottom:12px;}
#questions label {display:block;margin:6px 0 6px 10px;line-height:1.4;}
.result-box{border:1px solid #aaa;background:#eef;padding:12px;margin-top:12px;
  border-radius:6px;white-space:pre-line;}

.buttons {
  text-align: left;
  margin-top: 10px;
  display: flex;
  gap: 10px;
}

.buttons .right { margin-left: auto; }

/* N√∫t + hover */
button {
  font-size: 18px;
  padding: 10px 18px;
  font-weight: 600;
  border-radius: 6px;
  transition: all 0.2s ease;
}
button:hover { background-color:#e0e0e0; cursor:pointer;}

.pagination{text-align:center;margin-top:15px;}
.pagination button{padding:6px 12px;margin:2px;}

.modal{
  position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.45);
  display:none;justify-content:center;align-items:center;}
.modal-content{
 background:#fff;padding:18px;border-radius:6px;text-align:center;width:280px;
 box-shadow:0 0 8px rgba(0,0,0,.3);}
.modal button{margin:5px;padding:6px 14px;}

.center{text-align:center;}



.highlight {
  background: yellow;
}
/* Menu highlight nh·ªè g·ªçn */
#textMenu {
  position: absolute;
  display: none;
  background: #fff;
  border: 1px solid #555;
  padding: 4px 6px;
  border-radius: 4px;
  box-shadow: 0 0 5px rgba(0,0,0,.25);
  z-index: 999;
}

/* N√∫t nh·ªè */
#textMenu button {
  font-size: 12px;
  padding: 2px 6px;
  margin: 2px 0;
  border: none;
  background: #e8e8e8;
  border-radius: 3px;
  cursor: pointer;
}

#textMenu button:hover {
  background: #d6d6d6;
}


#noteBox {
  width: 90%;
  height: 120px;
  margin-top: 12px;
  border: 1px solid #ccc;
  border-radius: 6px;
  padding: 8px;
  font-size: 18px;
  color: #F63049;
font-family: "Arial", sans-serif;
  background: #fffef7;
  resize: vertical;
}
#noteBox:focus {
  outline: none;
  border-color: #4a90e2;
  background: #fff;
}



</style>
</head>

<body>
<header>
<a id="homeBtn" href="https://ketng91.github.io/DangdochieuTHPTQG/">üè†</a>

  <h2>Luy·ªán ƒë·ªçc hi·ªÉu THPTQG - L·ªõp Anh th·∫ßy K·∫øt | ƒê·ªÅ 01: S·ªü Ph√∫ Th·ªç (ƒê·ª£t 1) 2026 </h2>
  <div id="timer">00:00</div>
</header>

<!-- Menu highlight -->
<div id="textMenu" class="menu">
  <button onclick="applyHighlight()">Highlight</button>
  <button onclick="removeHighlight()">Remove</button>
</div>

<div class="container">
  <div class="exercise-title" id="title">Test 1</div>
  <div class="reading-box" id="reading"></div>
  <div class="questions-box" id="questions"></div>

  <div id="resultArea"></div>

  <div class="buttons">
    <button onclick="prevQ()">Back</button>
    <button onclick="nextQ()">Next</button>
    <button class="right" onclick="openConfirm()">Submit</button>
  </div>

  <div class="pagination" id="pagination"></div>

<textarea id="noteBox" placeholder="Ghi ch√∫ khi l√†m b√†i..."></textarea>

</div>

<!-- modal -->
<div class="modal" id="confirmBox">
  <div class="modal-content">
    <p>B·∫°n mu·ªën n·ªôp b√†i?</p>
    <button onclick="submitTest()">Yes</button>
    <button onclick="closeConfirm()">No</button>
  </div>
</div>

<script>
// TIMER
let sec=0;setInterval(()=>{sec++;let m=Math.floor(sec/60),s=sec%60;
document.getElementById('timer').innerText=
(m<10?'0'+m:m)+':'+(s<10?'0'+s:s)},1000);

// DATA c√≥ explain
const exercises={
1:{
passage:`In the <b><u>scorching</b></u> heat of Mandalay, hundreds of patients ‚Äî from infants to the elderly and Buddhist monks ‚Äî are lying on hospital beds in an outdoor car park. Three days after a catastrophic earthquake hit Myanmar, the people in the city are very worried and waiting for more assistance.

The earthquake, which measured approximately 7.7 on the Richter scale, struck on March 28, accompanied by numerous aftershocks. The devastating disaster claimed over 2,000 lives across Myanmar and Thailand. Mandalay General Hospital has relocated most patients outside following the collapse of several structures. <b><u>The situation is far from ideal for anyone here at the hospital.</b></u>

‚ÄúWe‚Äôre doing everything possible under these circumstances,‚Äù an anonymous medical worker explained to AFP. With temperatures reaching 39 degrees Celsius, patients, volunteers, and staff have spent nights under makeshift tarpaulin covers erected to protect them from the intense sun. Family members hold their relatives‚Äô hands, offering reassurance, while others use bamboo fans to provide relief. Young children with injuries cried in the uncomfortable environment, and a wounded monk lay connected to an intravenous drip.

Medical staff are equally affected by the crisis. During brief breaks from their <b><u>‚Äúgrueling‚Äù</b></u> work schedules, healthcare workers eat on the ground, attempting to regain their strength. While the hospital structure appeared intact, only critical care patients and their attending physicians stayed indoors. Everyone else crowded together under the tarpaulin or found shelter in a nearby area with a metal roof.`,

questions:[
  {
    q: "The word <b><u>'scorching'</b></u> in paragraph 1 could be replaced by ______.",
    options: ["A. cool", "B. boiling", "C. freezing", "D. mild"],
    answer: 1,
    explain: "'Scorching' v√† 'boiling' ƒë·ªÅu c√≥ nghƒ©a l√† r·∫•t n√≥ng (r·∫•t ph√π h·ª£p v·ªõi ng·ªØ c·∫£nh 39 ƒë·ªô C trong b√†i)."
  },
  {
    q: "Which of the following best paraphrases the underlined sentence in paragraph 2?",
    options: [
      "A. Everything at this healthcare center is completely unacceptable and intolerable for every single person.",
      "B. The current conditions at the medical facility are extremely challenging for all people present.",
      "C. The environment in the outdoor area remains quite uncomfortable for patients and their families.",
      "D. The present circumstances at Mandalay hospital are somewhat difficult for most individuals there."
    ],
    answer: 1,
    explain: "'Far from ideal' (c√≤n l√¢u m·ªõi l√Ω t∆∞·ªüng) ƒë·ªìng nghƒ©a v·ªõi vi·ªác ho√†n c·∫£nh ƒëang r·∫•t kh√≥ khƒÉn (extremely challenging)."
  },
  {
    q: "The word <b><u>'them'</b></u> in paragraph 3 refers to ______.",
    options: ["A. tarpaulin covers", "B. patients", "C. family members", "D. temperatures"],
    answer: 1,
    explain: "Trong c√¢u 'erected to protect them from the intense sun', 'them' thay th·∫ø cho c√°c ƒë·ªëi t∆∞·ª£ng ƒëang ch·ªãu n·∫Øng l√† 'patients, volunteers, and staff'."
  },
  {
    q: "The word <b><u>'grueling'</b></u> in paragraph 4 is OPPOSITE in meaning to ______.",
    options: ["A. effortless", "B. exhausting", "C. tiring", "D. demanding"],
    answer: 0,
    explain: "'Grueling' nghƒ©a l√† c·ª±c k·ª≥ m·ªát m·ªèi, v·∫•t v·∫£; tr√°i nghƒ©a v·ªõi n√≥ l√† 'effortless' (kh√¥ng t·ªën s·ª©c, d·ªÖ d√†ng)."
  },
  {
    q: "In paragraph 4, which group of people is NOT mentioned as being present at the hospital during the crisis?",
    options: ["A. medical staff", "B. critical care patients", "C. family members", "D. attending physicians"],
    answer: 2,
    explain: "ƒêo·∫°n 4 nh·∫Øc ƒë·∫øn medical staff, critical care patients v√† attending physicians. 'Family members' ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn ·ªü ƒëo·∫°n 3, kh√¥ng ph·∫£i ƒëo·∫°n 4."
  },
  {
    q: "According to the passage, which of the following is TRUE?",
    options: [
      "A. The hospital‚Äôs 1,000-bed capacity was adequate to accommodate all patients indoors during the crisis.",
      "B. Authorities moved patients outside primarily because of the extreme heat reaching 39 degrees Celsius.",
      "C. The hospital building suffered severe structural damage requiring complete evacuation of the facility.",
      "D. The 7.7-magnitude earthquake on March 28 killed over 2,000 people in Myanmar and Thailand."
    ],
    answer: 3,
    explain: "Th√¥ng tin n·∫±m ·ªü ƒëo·∫°n 2: 'The devastating disaster claimed over 2,000 lives across Myanmar and Thailand.'"
  },
  {
    q: "In which paragraph does the writer describe how medical staff coped during breaks?",
    options: ["A. Paragraph 1", "B. Paragraph 4", "C. Paragraph 2", "D. Paragraph 3"],
    answer: 1,
    explain: "ƒêo·∫°n 4 m√¥ t·∫£ nh√¢n vi√™n y t·∫ø ƒÉn tr√™n m·∫∑t ƒë·∫•t trong nh·ªØng gi·ªù ngh·ªâ ng·∫Øn ng·ªßi ƒë·ªÉ h·ªìi ph·ª•c s·ª©c l·ª±c."
  },
  {
    q: "In which paragraph does the writer mention the protective measures taken against the sun?",
    options: ["A. Paragraph 3", "B. Paragraph 1", "C. Paragraph 4", "D. Paragraph 2"],
    answer: 0,
    explain: "ƒêo·∫°n 3 ƒë·ªÅ c·∫≠p ƒë·∫øn vi·ªác d·ª±ng b·∫°t (tarpaulin covers) v√† d√πng qu·∫°t tre (bamboo fans) ƒë·ªÉ ch·ªëng n·∫Øng."
  }
]},
2:{
passage:`For decades, the SAT has functioned as a main door to higher education in the United States, shaping admissions outcomes and perceptions of academic potential. Originally conceived to measure ability, the test once symbolized fair opportunity. Yet, in recent years, its fairness and relevance have come under examination, prompting debate about whether standardized testing can represent the complex intelligence of contemporary learners. <b>[I]</b> As education evolves, the SAT finds <b><u>itself</b></u> caught between tradition and the demand for comprehensive methods of student readiness.

The College Board's decision to transition the SAT to a fully digital format marks a significant turning point. The new SAT, shorter in duration and adaptive in structure, seeks to evaluate reasoning skills with precision and accessibility. Students now complete the exam on laptops or tablets, receiving results within days rather than weeks. <b>[II]</b> This digital transformation extends beyond logistical convenience; it mirrors the broader <b><u>reconfiguration</b></u> of education in the post-pandemic era, where technology has become inseparable from learning and assessment. Still, one question remains: can an algorithm truly capture the depth of critical thinking?

Equity remains the SAT's most persistent challenge. Critics argue that the exam continues economic and social inequalities, as students from affluent backgrounds often have access to private tutoring and extensive preparation programs that enhance their scores. By contrast, students from under-resourced communities frequently lack comparable tools support. Although the College Board has expanded fee waivers and developed free online practice tools through initiatives [III] as its partnership with Khan Academy, these measures only partially reduce systematic unfairness. <b>[III]</b> The test operates within a system where the playing field is far from level, and genuine potential may be obscured by unequal access to educational resources.

As an increasing number of universities adopt test-optional or test-blind admissions policies, the SAT faces a critical turning point. Proponents argue that standardized assessments remain necessary for maintaining objectivity, particularly amid grade inflation and different curricular standards across schools. <b>[IV]</b> The future of academic evaluation may thus lie in balance ‚Äî where quantitative measures coexist with comprehensive approaches that value creativity, resilience, and lived experience alongside intellectual performance. <b><u>Whether the SAT endures or diminishes in influence, one principle remains clear: education must evolve not to measure conformity, but to open doors to possibility.</b></u>`,

questions:[
  {
    q: "The word <b><u>'itself'</b></u> in paragraph 1 refers to ______.",
    options: ["A. tradition", "B. education", "C. the SAT", "D. the demand"],
    answer: 2,
    explain: "Trong c√¢u 'the SAT finds itself caught between...', ƒë·∫°i t·ª´ ph·∫£n th√¢n 'itself' thay th·∫ø cho ch·ªß ng·ªØ 'the SAT'."
  },
  {
    q: "Which of the following is NOT mentioned as a characteristic of the new digital SAT?",
    options: [
      "A. It provides results within a few days.",
      "B. It is shorter in duration.",
      "C. It is completed on electronic devices.",
      "D. It includes a mandatory essay section."
    ],
    answer: 3,
    explain: "ƒêo·∫°n 2 li·ªát k√™ c√°c ƒë·∫∑c ƒëi·ªÉm: ng·∫Øn h∆°n, th√≠ch ·ª©ng, l√†m tr√™n m√°y t√≠nh/m√°y t√≠nh b·∫£ng, c√≥ k·∫øt qu·∫£ sau v√†i ng√†y. Kh√¥ng ƒë·ªÅ c·∫≠p ƒë·∫øn ph·∫ßn vi·∫øt lu·∫≠n b·∫Øt bu·ªôc (mandatory essay)."
  },
  {
    q: "Which of the following best summarises paragraph 3?",
    options: [
      "A. The SAT‚Äôs historical role as a symbol of fair opportunity is being challenged by its shift to a digital format.",
      "B. The SAT‚Äôs evolution is primarily driven by the need to balance tradition with comprehensive methods of student potential.",
      "C. The SAT, once a respected measure of ability, is now facing scrutiny regarding its fairness and ability to assess modern learners.",
      "D. Debates about the SAT‚Äôs relevance have led to calls for traditional methods of evaluating student readiness."
    ],
    answer: 2,
    explain: "L∆∞u √Ω: C√¢u h·ªèi y√™u c·∫ßu t√≥m t·∫Øt ƒëo·∫°n 3 (Paragraph 3), v·ªën t·∫≠p trung v√†o t√≠nh c√¥ng b·∫±ng (Equity) v√† s·ª± ch√™nh l·ªách gi√†u ngh√®o. Tuy nhi√™n, trong c√°c l·ª±a ch·ªçn tr√™n, l·ª±a ch·ªçn C bao qu√°t t·ªët nh·∫•t v·∫•n ƒë·ªÅ v·ªÅ s·ª± c√¥ng b·∫±ng v√† kh·∫£ nƒÉng ƒë√°nh gi√° ng∆∞·ªùi h·ªçc hi·ªán ƒë·∫°i m√† ƒëo·∫°n 3 ƒëang xo√°y s√¢u."
  },
  {
    q: "The word <b><u>'reconfiguration'</b></u> in paragraph 2 is CLOSEST in meaning to ______.",
    options: ["A. stability", "B. reorganization", "C. removal", "D. reduction"],
    answer: 1,
    explain: "'Reconfiguration' (c·∫•u tr√∫c l·∫°i/s·∫Øp x·∫øp l·∫°i) ƒë·ªìng nghƒ©a v·ªõi 'reorganization'."
  },
  {
    q: "According to paragraph 2, what specific changes have been made to the new SAT?",
    options: [
      "A. The exam now focuses on memorization rather than evaluating students‚Äô reasoning skills.",
      "B. The exam provides results in weeks instead of days for all digital participants.",
      "C. The exam now requires less time and employs a personalized format tailored to test-takers.",
      "D. The exam is much longer and requires students to use paper-based answer sheets."
    ],
    answer: 2,
    explain: "ƒêo·∫°n 2 n√™u: 'shorter in duration and adaptive in structure' (th·ªùi gian ng·∫Øn h∆°n v√† c·∫•u tr√∫c th√≠ch ·ª©ng - t·ª©c l√† ƒë∆∞·ª£c c√° nh√¢n h√≥a theo tr√¨nh ƒë·ªô th√≠ sinh)."
  },
  {
    q: "Which of the following best paraphrases the underlined sentence in paragraph 4?",
    options: [
      "A. Education will only truly evolve if it focuses on standardizing learning outcomes to open more doors for students.",
      "B. For education to progress, it must prioritize the measurement of students‚Äô ability to conform over their potential for innovation.",
      "C. Education‚Äôs primary goal should be to ensure students adhere to established norms rather than explore new avenues.",
      "D. The purpose of education is to adapt and create opportunities, not merely to assess how well individuals fit predefined standards."
    ],
    answer: 3,
    explain: "C√¢u g·ªëc n√≥i gi√°o d·ª•c kh√¥ng n√™n ƒëo l∆∞·ªùng s·ª± r·∫≠p khu√¥n (conformity) m√† n√™n m·ªü ra c∆° h·ªôi. L·ª±a ch·ªçn D ph·∫£n √°nh ƒë√∫ng √Ω n√†y."
  },
  {
    q: "What can be inferred from the passage?",
    options: [
      "A. The SAT is no longer administered or required by most higher education institutions.",
      "B. Grade inflation and curricular variation have no effect on university admission outcomes.",
      "C. Standardized tests alone may not fully capture students‚Äô intellectual potential.",
      "D. Using digital technology automatically enhances adolescents‚Äô critical thinking abilities."
    ],
    answer: 2,
    explain: "B√†i vi·∫øt ƒë·∫∑t c√¢u h·ªèi li·ªáu thu·∫≠t to√°n c√≥ n·∫Øm b·∫Øt ƒë∆∞·ª£c t∆∞ duy ph√™ ph√°n v√† ƒë·ªÅ c·∫≠p ƒë·∫øn vi·ªác c√°c tr∆∞·ªùng chuy·ªÉn sang 'test-optional', t·ª´ ƒë√≥ suy ra c√°c b√†i ki·ªÉm tra chu·∫©n h√≥a ƒë∆°n thu·∫ßn c√≥ th·ªÉ kh√¥ng n·∫Øm b·∫Øt h·∫øt ti·ªÅm nƒÉng tr√≠ tu·ªá."
  },
  {
    q: "The mention of 'grade inflation and different curricular standards across schools' in paragraph 4 serves to ______.",
    options: [
      "A. explain why standardized tests are considered necessary by some for objectivity",
      "B. advocate for a universal curriculum to ensure fairness in grading",
      "C. criticize the declining academic standards in modern high schools",
      "D. illustrate the challenges faced by students in diverse educational systems"
    ],
    answer: 0,
    explain: "C√¢u n√†y n·∫±m ngay sau √Ω 'Proponents argue that standardized assessments remain necessary for maintaining objectivity' (Nh·ªØng ng∆∞·ªùi ·ªßng h·ªô cho r·∫±ng b√†i ki·ªÉm tra chu·∫©n h√≥a l√† c·∫ßn thi·∫øt ƒë·ªÉ duy tr√¨ t√≠nh kh√°ch quan)."
  },
  {
    q: "Where in the passage does the following sentence best fit: 'Opponents, however, maintain that human potential cannot be reduced to a numerical value.'?",
    options: ["A. [I]", "B. [II]", "C. [III]", "D. [IV]"],
    answer: 3,
    explain: "V·ªã tr√≠ [IV] l√† ph√π h·ª£p nh·∫•t v√¨ n√≥ n·∫±m trong ƒëo·∫°n th·∫£o lu·∫≠n v·ªÅ vi·ªác c√¢n b·∫±ng gi·ªØa c√°c con s·ªë ƒë·ªãnh l∆∞·ª£ng (quantitative measures) v√† c√°c c√°ch ti·∫øp c·∫≠n to√†n di·ªán h∆°n."
  },
  {
    q: "Which of the following best summarises the main idea of the passage?",
    options: [
      "A. The primary challenge for the SAT is adapting its assessment methods to accurately measure critical thinking skills in an increasingly digital learning environment.",
      "B. The SAT‚Äôs transition to a digital format has successfully resolved its long-standing issues concerning fairness and relevance in higher education.",
      "C. Despite its historical role, the SAT is currently undergoing significant scrutiny regarding its fairness and relevance amid shifts toward more comprehensive evaluation methods in higher education.",
      "D. The College Board‚Äôs efforts to provide equitable access to SAT preparation have largely mitigated the socioeconomic disparities associated with the exam."
    ],
    answer: 2,
    explain: "ƒê√¢y l√† c√¢u t√≥m t·∫Øt bao qu√°t nh·∫•t to√†n b·ªô b√†i ƒë·ªçc: t·ª´ l·ªãch s·ª≠, s·ª± thay ƒë·ªïi sang k·ªπ thu·∫≠t s·ªë, c√°c tranh c√£i v·ªÅ s·ª± c√¥ng b·∫±ng cho ƒë·∫øn t∆∞∆°ng lai c·ªßa k·ª≥ thi."
  }
]}
};
// STATE
let currentTest=1,currentQuestionIndex=0;
let savedAnswers={}; // l∆∞u ki·ªÉu { "1-0":2 , "1-1":1 , "2-3":0 }

function loadTest(num){
 currentTest=num;
document.getElementById('title').innerText=
'Read the following passage and mark the letter A, B, C or D to indicate the best answer to each of the following questions.';

 document.getElementById('resultArea').innerHTML='';
 currentQuestionIndex=0;
 document.getElementById('reading').innerHTML = exercises[num].passage.replace(/\n/g,'<br>');
 renderQuestions(); renderPagination();
}

function renderQuestions(){
 const q=exercises[currentTest].questions[currentQuestionIndex];
 let key=currentTest+'-'+currentQuestionIndex;
 let html='<div class="question">'+(currentQuestionIndex+1)+'. '+ q.q +'</div>';

 q.options.forEach((opt,i)=>{
   const checked = savedAnswers[key]==i ? 'checked' : '';
   html+=`<label><input type="radio" name="q${currentQuestionIndex}"
    value="${i}" ${checked} onclick="saveAnswer(${i})"> ${opt}</label>`;
 });

 document.getElementById('questions').innerHTML=html;
}

function saveAnswer(v){
 savedAnswers[currentTest+'-'+currentQuestionIndex]=v;
}

function nextQ(){
 if(currentQuestionIndex < exercises[currentTest].questions.length-1){
   currentQuestionIndex++;
   renderQuestions();
 }
}
function prevQ(){
 if(currentQuestionIndex>0){
   currentQuestionIndex--;
   renderQuestions();
 }
}

function renderPagination(){
 let h='';
 for(let k in exercises)
   h+=`<button onclick="loadTest(${k})">Passage ${k}</button>`;
 document.getElementById('pagination').innerHTML=h;
}

// Confirm box
function openConfirm(){document.getElementById('confirmBox').style.display='flex';}
function closeConfirm(){document.getElementById('confirmBox').style.display='none';}

// SUBMIT
function submitTest(){
 closeConfirm();
 const qs=exercises[currentTest].questions;
 let correct=0,txt='';

 for(let i=0;i<qs.length;i++){
   let key=currentTest+'-'+i;
   let chosen=savedAnswers[key];
   let ok=chosen==qs[i].answer;
   if(ok) correct++;
   txt+=`${i+1}. ${qs[i].q}
Your answer: ${chosen!=null?qs[i].options[chosen]:'(no answer)'}
Correct answer: ${qs[i].options[qs[i].answer]}
${ok?'‚úì Correct':'‚úó Wrong'}
Gi·∫£i th√≠ch: ${qs[i].explain}\n\n`;
 }

 document.getElementById('resultArea').innerHTML=
 `<div class="result-box">K·∫øt qu·∫£: ${correct}/${qs.length}\n\n${txt}</div>`;
}

let selectedRange = null;

// Hi·ªán menu khi ch·ªçn ch·ªØ ho·∫∑c click highlight
document.addEventListener('mouseup', function(e) {
  const sel = window.getSelection();

  // N·∫øu click v√†o ch·ªØ ƒë√£ highlight
  if (e.target.classList.contains('highlight')) {
    selectedRange = null;
    showMenu(e.pageX, e.pageY);
    selectedRange = e.target;
    return;
  }

  // N·∫øu kh√¥ng select g√¨ th√¨ ƒë√≥ng menu
  if (!sel.toString().trim()) {
    hideMenu();
    return;
  }

  selectedRange = sel.getRangeAt(0);
  showMenu(e.pageX, e.pageY);
});

// Highlight
function applyHighlight() {
  if (!selectedRange) return;

  // N·∫øu click highlight ƒëang t·ªìn t·∫°i ‚Üí b·ªè highlight tr∆∞·ªõc r·ªìi t√¥ l·∫°i
  if (selectedRange instanceof HTMLElement && selectedRange.classList.contains('highlight')) {
    removeHighlight();
    return;
  }

  const span = document.createElement('span');
  span.className = 'highlight';
  span.appendChild(selectedRange.extractContents());
  selectedRange.insertNode(span);

  selectedRange = null;
  hideMenu();
}

// Remove highlight
function removeHighlight() {
  if (!selectedRange) return;

  if (selectedRange instanceof HTMLElement && selectedRange.classList.contains('highlight')) {
    const parent = selectedRange.parentNode;
    while (selectedRange.firstChild) {
      parent.insertBefore(selectedRange.firstChild, selectedRange);
    }
    parent.removeChild(selectedRange);
  }
  selectedRange = null;
  hideMenu();
}

// menu show/hide
function showMenu(x, y) {
  const box = document.getElementById('textMenu');
  box.style.left = x + 'px';
  box.style.top = y + 'px';
  box.style.display = 'block';
}
function hideMenu() {
  document.getElementById('textMenu').style.display = 'none';
}



window.onload=()=>loadTest(1);
</script>



</body>
</html>
